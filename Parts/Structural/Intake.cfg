PART
{
	// --- general parameters ---
	name = proceduralIntake
	module = Part
	author = AncientGammoner, NathanKell, Swamp Ig, OtherBarry

	// --- asset parameters ---
	MODEL
	{
		model = ProceduralParts/Parts/cylinderTank
		scale = 1,1,1
	}
	scale = 1
	rescaleFactor = 1

	// --- node definitions ---
	node_stack_bottom=0,-0.5,0,0,-1,0,1

	// --- editor parameters ---
	cost = 0 // 4000
	TechRequired = stability
	entryCost = 6800
	category = Aero
	subcategory = 0
	title = Procedural Air Intake
	manufacturer = Kerbchem Industries
	description = Made from viscoelastic nanopolymers (which were discovered by accident... growing in the back of the office mini-fridge) this nose cone can be stretched to fit a range of diameters, and can be made more or less pointy. Hardens to a rigid structure before launch!

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,0,0

	// --- standard part parameters ---
	mass = 1
	dragModelType = default
	maximum_drag = 0.1
	minimum_drag = 0.1
	angularDrag = 0.25
	crashTolerance = 15
	maxTemp = 2400

	MODULE
	{
		name = ProceduralPart
		textureSet = WhiteSide
		
		costPerkL=200

		// Use aspect limiting rather than length limiting for nose cones
		//aspectMin = 1.0
		//aspectMax = 8.0
		volumeMin = 0
		diameterMin = 0.125
		
		// Use same limits as liquid fuel tanks 
		TECHLIMIT {
			// noseCone - 1.25 m and small nose cone 0.625
			name = stability
			diameterMin = 0.55
			diameterMax = 1.5
			lengthMin = 0.625
			lengthMax = 0.625
		}
		
		TECHLIMIT {
			// advanved nose cone Type A
			name = aerodynamicSystems			
			lengthMax = 1.5			
		}
		
		TECHLIMIT {
			// rocketNoseCone Mk7 - 2.5m
			name = advConstruction
			diameterMax = 2.5
		}
		
		TECHLIMIT {
			// Make everything unlimited for aerospaceTech
			name = aerospaceTech
			diameterMin = 0.01
			diameterMax = Infinity
		}
	}
	MODULE 
	{
		name = ProceduralShapeBezierCone
		displayName = Smooth Cone
		
		selectedShape = Peaked #2
		length = 0.625
		topDiameter = 1.0
		bottomDiameter = 1.25
		
		aspectMin = 3.0
		aspectMax = 3.0
		
		coneTopMode = Constant
		coneBottomMode = LimitMin
		
		endCap=cone
		END_CAPS
		{
			CAPS
			{
				
				name=cone
				
				TOP
				{
					closeFirstRing=false
					texture = ProceduralParts/Parts/stockend			
						
					// r y uv1 edgemode uv2 radiusmode, ymode
					key = 0.00  3.30 0.0001 SHARP
					
					key = 0.25  2.50 0.200
					key = 0.40  2.05 0.400
					key = 0.70  1.10 0.600
					key = 0.85  0.15 0.800
					
					key = 0.95 -0.80 1.000 SHARP
					key = 1.00 -0.80 0.100 SHARP
					
					key = 0.90  0.96 0.900
					key = 0.95  1.00 0.950
					key = 1.00  1.00 1.000 SHARP 
				}
				
				
				
			}
		}
	}
	MODULE
	{
		name = TankContentSwitcher
		useVolume = true
		
		TANK_TYPE_OPTION 
		{
			name = Structural
			dryDensity = 0.068
			isStructural = true
		}

	}
}